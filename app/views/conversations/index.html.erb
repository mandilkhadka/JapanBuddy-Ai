<% content_for :body_class, "chat-page" %>

<div class="chat-layout">
  <aside class="chat-sidebar">
    <div class="sidebar-header">
      <h2><%= t('chat.conversations') %></h2>
      <%= button_to conversations_path, method: :post, class: "btn-new-chat" do %>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 5v14M5 12h14"/>
        </svg>
        <%= t('chat.new_conversation') %>
      <% end %>
    </div>

    <div class="conversations-list" id="conversations-list">
      <% if @conversations.any? %>
        <% @conversations.each do |conversation| %>
          <%= render partial: 'conversation_item', locals: { conversation: conversation, active: false } %>
        <% end %>
      <% else %>
        <div class="empty-state-small">
          <p><%= t('chat.no_conversations') %></p>
        </div>
      <% end %>
    </div>
  </aside>

  <div class="chat-main">
    <div class="chat-empty-state">
      <div class="empty-icon">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
        </svg>
      </div>
      <h3><%= t('chat.welcome') %></h3>
      <p><%= t('chat.welcome_message', default: t('chat.welcome_hint')) %></p>
      <%= button_to conversations_path, method: :post, class: "btn-primary" do %>
        <%= t('chat.new_conversation') %>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M5 12h14M12 5l7 7-7 7"/>
        </svg>
      <% end %>
    </div>
  </div>
</div>
